import{a as b,b as N}from"./index.vue_vue_type_script_setup_true_lang-B7PMdhyM.js";import{d as m}from"./@glade-app/core-DGXLy9e6.js";import{d as k,aj as w,M as C,a1 as S,s as j,O as z,b as B,o as E,L as l,h as y,a5 as f,e as d,w as G,n as O,ak as U}from"./index-_Qv1yFwx.js";import"./index-DLxFSXXg.js";import"./@glade-app/plugins-BFTWuNyR.js";const $={class:"text-xs text-gray-600 space-y-3 select-none"},A={class:"text-sm font-bold"},D={class:"h-9 flex space-x-2 items-center border px-2 py-1 rounded bg-gray-50"},F={class:"w-17 text-left text-sm"},M={class:"h-9 flex space-x-2 items-center border px-2 py-1 rounded bg-gray-50 text-sm"},q=k({__name:"index",setup(P){const{t:p}=w(),{getPlugin:h,workspace:n}=C("glade"),t=h("glade-plugin-text"),s=S({fill:"#000000",opacity:1,fontSize:30,fontFamily:"Arial, sans-serif"}),u=U(e=>{var c,i;const o=(((c=n.value)==null?void 0:c.selectedNodes)||[]).filter(v=>v instanceof m);(i=n.value)==null||i.updateNode(o,e)},100);j(()=>{var e,a,o;t==null||t.config(s),_(((e=n.value)==null?void 0:e.selectedNodes)||[]),(a=n.value)==null||a.on("history:undo",r),(o=n.value)==null||o.on("history:redo",r)}),z(()=>{var e,a;(e=n.value)==null||e.off("history:undo",r),(a=n.value)==null||a.off("history:redo",r)});function r(e){_(e.nodes)}function _(e){const a=Object.keys(s);e.filter(o=>o instanceof m).forEach(o=>{const c=o.getAttrs();a.forEach(i=>c[i]&&(s[i]=c[i]))})}function g(e){s.fill=e,t==null||t.config({fill:e}),u({fill:e})}function x(e){s.opacity=e[0],t==null||t.config({opacity:e[0]}),u({opacity:e[0]})}return(e,a)=>{const o=b,c=N;return E(),B("div",$,[l("h6",A,f(d(p)("text")),1),y(o,{value:d(s).fill,size:32,"onUpdate:value":g},{default:G(()=>[l("div",D,[l("div",{class:"rounded w-5 h-5 border",style:O(`background-color: ${d(s).fill}`)},null,4),l("span",F,f(d(s).fill),1)])]),_:1},8,["value"]),l("div",M,[l("span",null,f(d(p)("opacity")),1),y(c,{min:.1,max:1,step:.1,value:[d(s).opacity],"onUpdate:value":x},null,8,["value"])])])}}});export{q as default};

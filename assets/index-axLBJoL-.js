import{_ as W,a as B}from"./index.vue_vue_type_script_setup_true_lang-Di2MuwfQ.js";import{a as m}from"./@glade-app/core-DGXLy9e6.js";import{d as U,a6 as V,M as D,a1 as E,s as G,O as L,b as h,o as g,L as c,a5 as d,e as n,h as _,Y as O,Z as j,K as w,a7 as z}from"./index-DWXC7y8s.js";import"./@glade-app/plugins-BFTWuNyR.js";const F={class:"text-xs text-gray-600 space-y-3 select-none"},M={class:"text-sm font-bold"},P={class:"space-y-1"},S={class:"space-y-1"},$={class:"flex items-center space-x-2 py-1"},A=["onClick"],H={class:"space-y-1"},I={class:"space-y-1"},Q=U({__name:"index",setup(K){const{t:u}=V(),{getPlugin:k,workspace:r}=D("glade"),o=k("glade-plugin-brush"),t=E({stroke:"#000000",opacity:1,strokeWidth:8,brushType:"default"}),v=[{value:"default",content:"Default"}],p=z(e=>{var i,s;const l=(((i=r.value)==null?void 0:i.selectedNodes)||[]).filter(T=>T instanceof m);(s=r.value)==null||s.updateNode(l,e)},100);G(()=>{var e,a,l;o==null||o.config(t),y(((e=r.value)==null?void 0:e.selectedNodes)||[]),(a=r.value)==null||a.on("history:undo",f),(l=r.value)==null||l.on("history:redo",f)}),L(()=>{var e,a;(e=r.value)==null||e.off("history:undo",f),(a=r.value)==null||a.off("history:redo",f)});function f(e){y(e.nodes)}function y(e){const a=Object.keys(t);e.filter(l=>l instanceof m).forEach(l=>{const i=l.getAttrs();a.forEach(s=>i[s]&&(t[s]=i[s]))})}function x(e){t.strokeWidth=e[0],o==null||o.config({strokeWidth:e[0]}),p({strokeWidth:e[0]})}function N(e){t.opacity=e[0],o==null||o.config({opacity:e[0]}),p({opacity:e[0]})}function b(e){t.stroke=e,o==null||o.config({stroke:e}),p({stroke:e})}function C(e){t.brushType=e,o==null||o.config({brushType:e}),p({brushType:e})}return(e,a)=>{const l=W,i=B;return g(),h("div",F,[c("h6",M,d(n(u)("brush")),1),c("div",P,[c("span",null,d(n(u)("color")),1),_(l,{value:n(t).stroke,"onUpdate:value":[a[0]||(a[0]=s=>n(t).stroke=s),b],size:32},null,8,["value"])]),c("div",S,[c("span",null,d(n(u)("brush_type")),1),c("div",$,[(g(),h(O,null,j(v,s=>c("button",{key:s.value,class:w(["p-2 rounded focus:outline-none active:scale-90",n(t).brushType===s.value?"bg-gray-400 text-gray-50":"bg-gray-100"]),onClick:()=>C(s.value)},d(s.content),11,A)),64))])]),c("div",H,[c("span",null,d(n(u)("stroke_width"))+" "+d(n(t).strokeWidth),1),_(i,{min:2,max:30,"model-value":[n(t).strokeWidth],"onUpdate:modelValue":x},null,8,["model-value"])]),c("div",I,[c("span",null,d(n(u)("opacity"))+" "+d(n(t).opacity*100),1),_(i,{min:.1,max:1,step:.1,"model-value":[n(t).opacity],"onUpdate:modelValue":N},null,8,["model-value"])])])}}});export{Q as default};
